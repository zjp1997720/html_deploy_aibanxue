<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %> - HTML-GO</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="HTML-GO ç™»å½•é¡µé¢">
  <meta name="robots" content="noindex, nofollow">
  
  <!-- Favicons -->
  <link rel="icon" href="/icon/web/favicon.ico">
  <link rel="apple-touch-icon" href="/icon/web/apple-touch-icon.png">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter+Display:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Styles -->
  <link rel="stylesheet" href="/css/design-system.css">
  <link rel="stylesheet" href="/css/components.css">
  <link rel="stylesheet" href="/css/utilities.css">
  <link rel="stylesheet" href="/css/mobile-optimizations.css">
  
  <!-- Theme Script -->
  <script>
    const theme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', theme);
  </script>
</head>
<body>
  <div id="app" class="min-h-screen bg-secondary">
    <!-- ç™»å½•é¡µé¢å®¹å™¨ -->
    <main class="min-h-screen flex items-center justify-center px-4 py-12">
      <div class="w-full max-w-md">
        <!-- Logoå’Œæ ‡é¢˜ -->
        <div class="text-center mb-8">
          <div class="flex items-center justify-center gap-3 mb-4">
            <div class="text-3xl">ğŸš€</div>
            <h1 class="text-2xl font-display font-bold text-primary">HTML-GO</h1>
          </div>
          <p class="text-secondary">åˆ†äº«AIç”Ÿæˆå†…å®¹çš„æœ€ä½³æ–¹å¼</p>
        </div>
        
        <!-- ç™»å½•å¡ç‰‡ -->
        <div class="card">
          <div class="card-header text-center">
            <div class="w-12 h-12 bg-brand-100 text-brand-600 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-lock text-xl"></i>
            </div>
            <h2 class="card-title">è®¿é—®éªŒè¯</h2>
            <p class="card-description">è¯·è¾“å…¥è®¿é—®å¯†ç ä»¥ç»§ç»­</p>
          </div>
          
          <div class="card-body">
            <!-- é”™è¯¯ä¿¡æ¯ -->
            <% if (typeof error !== 'undefined' && error) { %>
              <div class="mb-6 p-4 bg-error-50 border border-error-200 rounded-lg">
                <div class="flex items-center gap-2">
                  <i class="fas fa-exclamation-triangle text-error-600"></i>
                  <span class="text-sm font-medium text-error-800"><%= error %></span>
                </div>
              </div>
            <% } %>
            
            <!-- ç™»å½•è¡¨å• -->
            <form action="/login" method="post" class="space-y-6">
              <div class="form-group">
                <label for="password" class="form-label form-label-required">
                  <i class="fas fa-key mr-2"></i>
                  è®¿é—®å¯†ç 
                </label>
                <input
                  type="password"
                  id="password"
                  name="password"
                  class="form-input w-full"
                  placeholder="è¯·è¾“å…¥å¯†ç "
                  required
                  autocomplete="current-password"
                  autofocus
                >
                <p class="form-help">è¯·è”ç³»ç®¡ç†å‘˜è·å–è®¿é—®å¯†ç </p>
              </div>
              
              <button type="submit" class="btn btn-primary w-full btn-lg">
                <i class="fas fa-sign-in-alt mr-2"></i>
                ç™»å½•
              </button>
            </form>
          </div>
          
          <div class="card-footer">
            <div class="flex items-center justify-between text-sm">
              <button 
                id="theme-toggle" 
                class="btn btn-ghost btn-sm tooltip"
                data-tooltip="åˆ‡æ¢ä¸»é¢˜"
                type="button"
              >
                <i class="fas fa-sun" id="theme-icon"></i>
                <span class="ml-2">åˆ‡æ¢ä¸»é¢˜</span>
              </button>
              <span class="text-tertiary">å®‰å…¨ç™»å½•</span>
            </div>
          </div>
        </div>
        
        <!-- é¡µè„šä¿¡æ¯ -->
        <div class="text-center mt-8">
          <p class="text-xs text-tertiary">
            Â© 2025 HTML-GO. ä¸“ä¸šçš„å†…å®¹åˆ†äº«å¹³å°
          </p>
        </div>
      </div>
    </main>
  </div>
  
  <!-- Toastå®¹å™¨ -->
  <div id="toast-container" class="fixed top-6 right-6 z-50 space-y-2"></div>
  
  <!-- ç§»åŠ¨ç«¯ä¼˜åŒ– -->
  <script src="/js/mobile-optimizer.js"></script>
  
  <!-- é¡µé¢è„šæœ¬ -->
  <script>
    // ä¸»é¢˜åˆ‡æ¢
    const themeToggle = document.getElementById('theme-toggle');
    const themeIcon = document.getElementById('theme-icon');
    
    function updateThemeIcon() {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      themeIcon.className = currentTheme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
    }
    
    function toggleTheme() {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      updateThemeIcon();
    }
    
    updateThemeIcon();
    themeToggle?.addEventListener('click', toggleTheme);
    
    // è¡¨å•å¢å¼º
    const form = document.querySelector('form');
    const submitBtn = form?.querySelector('button[type="submit"]');
    const passwordInput = document.getElementById('password');
    
    // è¡¨å•æäº¤å¤„ç†
    form?.addEventListener('submit', function(e) {
      if (submitBtn) {
        submitBtn.disabled = true;
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>éªŒè¯ä¸­...';
        submitBtn.classList.add('btn-loading');
      }
    });
    
    // å¯†ç è¾“å…¥ä¼˜åŒ–
    passwordInput?.addEventListener('input', function() {
      // æ¸…é™¤ä¹‹å‰çš„é”™è¯¯çŠ¶æ€
      this.classList.remove('form-input-error');
      const errorMsg = document.querySelector('.bg-error-50');
      if (errorMsg) {
        errorMsg.style.opacity = '0.5';
      }
    });
    
    // å›è½¦é”®æäº¤
    passwordInput?.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        form?.dispatchEvent(new Event('submit'));
      }
    });
    
    // è‡ªåŠ¨èšç„¦å¯†ç è¾“å…¥æ¡†
    window.addEventListener('load', () => {
      passwordInput?.focus();
    });
    
    // é¡µé¢åŠ è½½åŠ¨ç”»
    document.addEventListener('DOMContentLoaded', () => {
      const card = document.querySelector('.card');
      if (card) {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        
        setTimeout(() => {
          card.style.transition = 'all 0.5s ease-out';
          card.style.opacity = '1';
          card.style.transform = 'translateY(0)';
        }, 100);
      }
    });
  </script>
  
  <!-- é¡µé¢ç‰¹å®šæ ·å¼ -->
  <style>
    /* ç™»å½•é¡µé¢ç‰¹å®šæ ·å¼ */
    .login-card-animation {
      animation: slideUp 0.5s ease-out;
    }
    
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* èšç„¦çŠ¶æ€å¢å¼º */
    .form-input:focus {
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }
    
    /* æŒ‰é’®åŠ è½½çŠ¶æ€ */
    .btn-loading {
      position: relative;
      pointer-events: none;
    }
    
    /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
    @media (max-width: 640px) {
      .card-header,
      .card-body,
      .card-footer {
        padding: var(--space-5);
      }
      
      .btn-lg {
        height: 48px;
        font-size: var(--text-base);
      }
    }
    
    /* æš—é»‘æ¨¡å¼ä¼˜åŒ– */
    [data-theme="dark"] .bg-error-50 {
      background-color: rgba(239, 68, 68, 0.1);
      border-color: rgba(239, 68, 68, 0.2);
    }
    
    [data-theme="dark"] .text-error-800 {
      color: #fca5a5;
    }
  </style>
</body>
</html> 